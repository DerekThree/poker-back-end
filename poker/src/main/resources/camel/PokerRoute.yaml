- route:
    id: pokerRoute
    from:
      uri: direct:pokerData
      steps:
        - process:
            ref: primaryAnalysisProcessor
        - filter:
            simple: ${in.body.hand.isSecondaryAnalysisNeeded()}
            steps:
              - process:
                  ref: secondaryAnalysisProcessor
        - filter:
            simple: ${in.body.response} == null
            steps:
              - process:
                  ref: analysisResultsProcessor